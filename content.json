{"meta":{"title":"Flora Notes","subtitle":null,"description":"Flora's notes on reading and web design","author":"Flora Fu","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"","slug":"canvas-puzzle","date":"2018-12-18T08:05:56.261Z","updated":"2018-12-18T08:24:04.166Z","comments":true,"path":"2018/12/18/canvas-puzzle/","link":"","permalink":"http://yoursite.com/2018/12/18/canvas-puzzle/","excerpt":"","text":"CanvasfillRect() 和 rect() 有什么不同？先来看一段代码，猜一猜这两个正方形分别是什么颜色？123456ctx.fillStyle = &quot;red&quot;;ctx.rect(50, 50, 50, 50);ctx.fill();ctx.fillStyle = &quot;blue&quot;;ctx.rect(120, 50, 50, 50);ctx.fill(); 出现两个蓝色正方形对吗？如果我把第 2 行和第 3 行合并成 ctx.fillRect(50, 50, 50, 50) 或者把第 5 行和第 6 行合并成 ctx.fillRect(120,50, 50, 50) 就会出现一个红色和一个蓝色正方形。为什么会出现这种情况？难道fillRect() 不是 rect() 和 fill() 的叠加吗？ .fillRect() 是一个独立的命令，它可以勾勒并填充出一个矩形。如果你把多个.fillStyle() 和多个.fillRect() 搭配使用，每个矩形都会是离它最近的那个.fillStyle() 规定的颜色。比如： 12345678illegibility=&quot;red&quot;;ctx.fillRect(10,10,10,10); // filled with redctx.fillStyle=&quot;green&quot;;ctx.fillRect(20,20,10,10); // filled with greenctx.fillStyle=&quot;blue&quot;;ctx.fillRect(30,30,10,10); // filled with blue .rect() 是 canvas 路径命令中的一个语句。路径命令是你绘制的多个形状的集合，它从一个beginPath() 开始，直到遇到另一个beginPath() 结束，都只算一个路径命令。在每一个集合内，只有最后一个fillStyle / strokeStyle 才起作用。 12345678ctx.beginPath(); // 开启一个路径命令ctx.fillStyle=&quot;red&quot;;ctx.rect(10,10,10,10);ctx.fillStyle=&quot;green&quot;;ctx.rect(20,20,10,10);ctx.fillStyle=&quot;blue&quot;; // 这是最后一个 fillStyle，所以它赢了ctx.rect(30,30,10,10); ctx.fill() 总结：你可以认为.fillRect() 内部包含了一个beginPath()，所以可以自动开启一个新的路径命令。","categories":[],"tags":[]}]}